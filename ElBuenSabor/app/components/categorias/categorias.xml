<Page xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:widgets="utils/widgets" loaded="pageLoaded" id="categoriasScreen" cssClass="screen">
    <!--<Page.actionBar>
        <widgets:action-bar />
    </Page.actionBar>-->

    <Page.actionBar>
        <ActionBar title="Categorías" automationText="ActionBar">
            <NavigationButton icon="res://ic_back" tap="goBack" automationText="GoBack" />
        </ActionBar>
    </Page.actionBar>

    <StackLayout>

        <GridLayout rows="auto, *, auto">
            <Repeater row="0" items="{{ listItems }}" cssClass="encabezados">
                <Repeater.itemsLayout>
                    <StackLayout orientation="horizontal" />
                </Repeater.itemsLayout>
                <Repeater.itemTemplate>
                    <Button text="{{ details.nombre }}" idCategoria="{{ details.Id }}" tap="cambiarCategoria" width="{{ width }}" isEnabled="{{ !isActivo }}" />
                </Repeater.itemTemplate>
            </Repeater>

            <ListView row="1" items="{{ listPlatos }}" itemTap="onListViewItemTap">
                <ListView.itemTemplate>
                    <StackLayout>
                        <GridLayout columns="*"  cssClass="padded-label" visibility="{{ isVisible ? 'visible' : 'collapsed' }}">

                            <StackLayout col="2" cssClass="padded-label-stack">
                                <Label col="0" text="{{ header + cantidad }}" cssClass="title-label" textWrap="true" />
                            </StackLayout>

                        </GridLayout>
                        <!-- additional view content -->
                    </StackLayout>
                </ListView.itemTemplate>
            </ListView>
            <!-- will be seen as a footer -->
            <GridLayout row="2" cssClass="footer">
                <StackLayout tap="goToPedidos">
                    <Label id="mensajePedidos" text="{{ total > 0 ? 'TOTAL: S/ ' + total : 'El carrito entá vacío'  }}"/>
                    <Label  id="totalPedidos" text="{{ cantidad }}"/>
                </StackLayout>
            </GridLayout>
            <ActivityIndicator row="1" busy="{{ isLoading }}" />
        </GridLayout>
        <!-- additional view content -->

        <!-- START_CUSTOM_CODE_categorias -->
        <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->

        <!-- END_CUSTOM_CODE_categorias -->
    </StackLayout>
</Page>